<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- 
    ======================================================================================
    === EDITABLE SEO & METADATA ==========================================================
    ======================================================================================
    -->
    <title>New Castle Solar Panel Installation | Solar Delaware | Free Quote</title>
    <meta name="description" content="Top-rated solar panel installation in New Castle, DE & across Delaware. Lock in savings, claim state & federal tax credits. See your savings with our free calculator!">
    <meta name="keywords" content="solar panels New Castle DE, solar installation Delaware, solar company New Castle County, DE solar tax credit, residential solar Delaware, go solar Wilmington DE">
    
    <!-- 
    FAVICON: This is an inline SVG favicon. It loads instantly and requires no extra files.
    To replace it, create a 1:1 aspect ratio SVG, run it through an online "SVG to URL encoder", 
    and paste the resulting 'data:image/svg+xml,...' URL into the href attribute below.
    -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23FFCA28'%3E%3Cpath d='M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.106a.75.75 0 0 1 0 1.06l-1.591 1.592a.75.75 0 0 1-1.06-1.061l1.591-1.591a.75.75 0 0 1 1.06 0ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5h2.25a.75.75 0 0 1 .75.75ZM17.836 17.836a.75.75 0 0 1-1.06 0l-1.591-1.591a.75.75 0 1 1 1.06-1.06l1.591 1.591a.75.75 0 0 1 0 1.06ZM12 21a.75.75 0 0 1-.75-.75v-2.25a.75.75 0 0 1 1.5 0v2.25a.75.75 0 0 1-.75-.75ZM5.106 18.894a.75.75 0 0 1 0-1.06l1.591-1.592a.75.75 0 0 1 1.06 1.061l-1.591 1.591a.75.75 0 0 1-1.06 0ZM3 12a.75.75 0 0 1 .75-.75h2.25a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12ZM6.164 6.164a.75.75 0 0 1 1.06 0l1.591 1.591a.75.75 0 1 1-1.06 1.06l-1.591-1.591a.75.75 0 0 1 0-1.06Z' /%3E%3C/svg%3E">

    <!-- 
    STRUCTURED DATA (JSON-LD): This tells Google you are a local business.
    IMPORTANT: Update the placeholder details below (telephone, address, url)
    -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HomeAndConstructionBusiness",
      "name": "Solar Delaware",
      "description": "Expert solar panel installation services for residential properties in Delaware, including New Castle, Kent, and Sussex counties.",
      "telephone": "+1-302-555-0101",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Wilmington",
        "addressRegion": "DE",
        "postalCode": "19801",
        "addressCountry": "US"
      },
      "areaServed": {
        "@type": "State",
        "name": "Delaware"
      },
      "serviceType": "Solar panel installation",
      "url": "https://www.solardelaware.com"
    }
    </script>
    
    <!-- 
    ======================================================================================
    === STYLES & FONTS (No editing needed) ===============================================
    ======================================================================================
    -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
            colors: {
              'solar-blue': '#0D47A1',
              'solar-yellow': '#FFCA28',
              'brand-dark': '#1a202c',
              'brand-light': '#f7fafc',
            },
          },
        },
      }
    </script>
    <style>
        /* Custom animations */
        @keyframes fadeInUp { '0%': { opacity: '0', transform: 'translateY(20px)' }; '100%': { opacity: '1', transform: 'translateY(0)' }; }
        @keyframes fadeIn { '0%': { opacity: '0' }; '100%': { opacity: '1' }; }
        @keyframes pulse {
          '50%': { transform: 'scale(1.05)', boxShadow: '0 0 0 10px rgba(255, 202, 40, 0.3)' }
        }
        .animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
        .animate-pulse-slow { animation: pulse 2s infinite; }
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1a202c; }
        ::-webkit-scrollbar-thumb { background: #0D47A1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #1e60c5; }
        /* FAQ Accordion */
        .faq-content { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-in-out; }
        .faq-toggle:checked ~ .faq-content { max-height: 500px; }
        .faq-arrow { transition: transform 0.3s ease-out; }
        .faq-toggle:checked ~ .faq-label .faq-arrow { transform: rotate(180deg); }
    </style>
</head>

<body class="bg-brand-dark text-brand-light font-sans">

    <header id="page-header" class="sticky top-0 z-40 transition-all duration-300 bg-transparent">
        <div class="container mx-auto px-6 py-3">
            <div class="flex items-center justify-between">
                <a href="#hero" class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-solar-yellow" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.106a.75.75 0 0 1 0 1.06l-1.591 1.592a.75.75 0 0 1-1.06-1.061l1.591-1.591a.75.75 0 0 1 1.06 0ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5h2.25a.75.75 0 0 1 .75.75ZM17.836 17.836a.75.75 0 0 1-1.06 0l-1.591-1.591a.75.75 0 1 1 1.06-1.06l1.591 1.591a.75.75 0 0 1 0 1.06ZM12 21a.75.75 0 0 1-.75-.75v-2.25a.75.75 0 0 1 1.5 0v2.25a.75.75 0 0 1-.75-.75ZM5.106 18.894a.75.75 0 0 1 0-1.06l1.591-1.592a.75.75 0 0 1 1.06 1.061l-1.591 1.591a.75.75 0 0 1-1.06 0ZM3 12a.75.75 0 0 1 .75-.75h2.25a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12ZM6.164 6.164a.75.75 0 0 1 1.06 0l1.591 1.591a.75.75 0 1 1-1.06 1.06l-1.591-1.591a.75.75 0 0 1 0-1.06Z" /></svg>
                    <span data-content-key="company.name" class="text-2xl font-bold text-white"></span>
                </a>
                <nav class="hidden md:flex items-center space-x-6 lg:space-x-8" data-content-key="navigation.links"></nav>
                <button onclick="openModal()" data-content-key="navigation.ctaButton" class="bg-solar-yellow text-solar-blue px-6 py-2 rounded-full font-bold hover:bg-yellow-300 transition-all transform hover:scale-105"></button>
            </div>
        </div>
    </header>

    <main>
        <section id="hero" class="relative h-screen flex items-center justify-center text-center text-white">
            <div id="hero-background" class="absolute inset-0 bg-cover bg-center bg-no-repeat">
                <div class="absolute inset-0 bg-black/60"></div>
            </div>

            <div class="relative z-10 p-6 animate-fade-in-up">
                <!-- Main Headline (H1 Tag - VERY IMPORTANT FOR SEO, hard-coded for best performance) -->
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold tracking-tight leading-tight mb-4">
                    Stop Renting Your Power. <span class="text-solar-yellow">Own It.</span>
                </h1>
                <p data-content-key="hero.subheadline" class="max-w-3xl mx-auto text-lg md:text-xl text-gray-300 mb-8"></p>
                <button onclick="openModal()" data-content-key="hero.ctaButton" class="inline-block bg-solar-yellow text-solar-blue px-10 py-4 rounded-full text-lg font-bold uppercase tracking-wider shadow-lg hover:bg-yellow-300 transition-all transform hover:scale-105 animate-pulse-slow"></button>
            </div>
        </section>

        <section id="subscription-cta" class="py-16 bg-gray-900 hidden">
            <div class="container mx-auto px-6 text-center max-w-4xl">
                 <h2 data-content-key="subscriptionCta.title" class="text-3xl font-extrabold text-white"></h2>
                 <p data-content-key="subscriptionCta.subtitle" class="text-md text-gray-400 mt-2 mb-8"></p>
                 <div id="subscription-container" class="max-w-xl mx-auto">
                    <form id="subscription-form" class="w-full" noValidate>
                        <div class="flex flex-col sm:flex-row gap-4">
                             <input type="hidden" name="form-source" value="Subscription">
                             <input type="email" name="email" id="sub-email" required class="w-full flex-grow bg-gray-800 text-white p-4 rounded-md border border-gray-700 focus:outline-none focus:ring-2 focus:ring-solar-yellow text-lg" placeholder="Enter your email address">
                             <button type="submit" id="sub-submit-button" data-content-key="subscriptionCta.buttonText" class="bg-solar-yellow text-solar-blue px-8 py-4 rounded-md font-bold text-lg hover:bg-yellow-300 transition-all transform hover:scale-105 disabled:bg-gray-500 disabled:cursor-not-allowed"></button>
                        </div>
                        <p id="sub-form-error" class="text-red-500 text-sm mt-2 hidden"></p>
                    </form>
                    <div id="subscription-success" class="hidden text-center py-4">
                        <p class="text-lg font-semibold text-solar-yellow">Thank You! You're on the list.</p>
                    </div>
                 </div>
            </div>
        </section>

        <section id="service-area" class="py-4 bg-solar-blue/80 text-center">
            <div class="container mx-auto px-6">
                <p data-content-key="serviceArea.text" class="text-lg font-semibold text-solar-yellow tracking-wider"></p>
            </div>
        </section>

        <section id="why-delaware" class="py-20 bg-gray-900">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 data-content-key="whyDelaware.title" class="text-4xl font-extrabold text-white"></h2>
                    <p data-content-key="whyDelaware.subtitle" class="text-lg text-gray-400 mt-2 max-w-3xl mx-auto"></p>
                </div>
                <div class="grid md:grid-cols-1 lg:grid-cols-3 gap-8" data-content-key="whyDelaware.items"></div>
            </div>
        </section>

        <section id="benefits" class="py-20 bg-brand-dark">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 data-content-key="benefits.title" class="text-4xl font-extrabold text-white"></h2>
                    <p data-content-key="benefits.subtitle" class="text-lg text-gray-400 mt-2"></p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8" data-content-key="benefits.items"></div>
            </div>
        </section>

        <section id="incentive" class="py-20 bg-solar-blue text-white">
            <div class="container mx-auto px-6 text-center">
                <h2 data-content-key="incentive.title" class="text-4xl md:text-5xl font-extrabold mb-3"></h2>
                <p data-content-key="incentive.subtitle" class="text-xl md:text-2xl text-gray-300 mb-8"></p>
                <div class="bg-gray-900/50 rounded-lg p-8 max-w-4xl mx-auto">
                    <h3 data-content-key="incentive.countdownTitle" class="text-2xl font-bold text-solar-yellow mb-6"></h3>
                    <div class="flex justify-center space-x-4 md:space-x-8">
                        <div class="text-center"><div id="countdown-days" class="text-4xl md:text-6xl font-bold text-white">00</div><div class="text-sm uppercase text-gray-400">Days</div></div>
                        <div class="text-center"><div id="countdown-hours" class="text-4xl md:text-6xl font-bold text-white">00</div><div class="text-sm uppercase text-gray-400">Hours</div></div>
                        <div class="text-center"><div id="countdown-minutes" class="text-4xl md:text-6xl font-bold text-white">00</div><div class="text-sm uppercase text-gray-400">Minutes</div></div>
                        <div class="text-center"><div id="countdown-seconds" class="text-4xl md:text-6xl font-bold text-white">00</div><div class="text-sm uppercase text-gray-400">Seconds</div></div>
                    </div>
                </div>
                <button onclick="openTaxCreditModal()" data-content-key="incentive.ctaButton" class="mt-10 inline-block bg-white text-solar-blue px-10 py-4 rounded-full text-lg font-bold uppercase tracking-wider shadow-lg hover:bg-gray-200 transition-all transform hover:scale-105"></button>
            </div>
        </section>

        <section id="how-it-works" class="py-20 bg-gray-900">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 data-content-key="howItWorks.title" class="text-4xl font-extrabold text-white"></h2>
                    <p data-content-key="howItWorks.subtitle" class="text-lg text-gray-400 mt-2"></p>
                </div>
                <div class="max-w-5xl mx-auto" data-content-key="howItWorks.steps"></div>
            </div>
        </section>

        <section id="technology" class="py-20 bg-brand-dark">
             <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 data-content-key="technology.title" class="text-4xl font-extrabold text-white"></h2>
                    <p data-content-key="technology.subtitle" class="text-lg text-gray-400 mt-2"></p>
                </div>
                <div class="grid md:grid-cols-1 lg:grid-cols-3 gap-8" data-content-key="technology.items"></div>
            </div>
        </section>

        <section id="calculator" class="relative py-20 bg-gray-800 text-white overflow-hidden">
             <div class="absolute inset-0 bg-cover bg-center bg-no-repeat z-0" style="background-image: url('https://images.unsplash.com/photo-1624397525287-49b62ad84698?q=80&w=1920&auto=format&fit=crop'); opacity: 0.1;"></div>
             <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/80 to-brand-dark/50 z-10"></div>
            <div class="container mx-auto px-6 relative z-20">
                <div class="text-center mb-12">
                    <h2 data-content-key="calculator.title" class="text-4xl font-extrabold text-white"></h2>
                    <p data-content-key="calculator.subtitle" class="text-lg text-gray-400 mt-2 max-w-3xl mx-auto"></p>
                </div>
                <div class="grid lg:grid-cols-5 gap-8 lg:gap-12 items-center">
                    <div class="lg:col-span-2 bg-gray-900/50 backdrop-blur-sm p-8 rounded-xl shadow-2xl border border-gray-700">
                        <label for="monthlyBillSlider" data-content-key="calculator.sliderLabel" class="block text-lg font-bold text-solar-yellow"></label>
                        <p id="bill-amount-display" class="text-5xl font-extrabold text-white my-4">$150</p>
                        <input id="monthlyBillSlider" type="range" min="50" max="600" step="10" value="150" class="w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer range-lg [&::-webkit-slider-thumb]:bg-solar-yellow" aria-label="Monthly electric bill slider" />
                        <div class="flex justify-between text-xs text-gray-400 mt-2"><span>$50</span><span>$600</span></div>
                        <div id="calculator-talking-points" class="mt-8 space-y-4"></div>
                    </div>
                    <div class="lg:col-span-3">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 text-center" data-content-key="calculator.metrics"></div>
                        <div class="bg-gray-900/50 backdrop-blur-sm p-6 rounded-xl shadow-inner border border-gray-700">
                             <h4 data-content-key="calculator.chartTitle" class="font-bold text-lg mb-4 text-white"></h4>
                            <div class="h-64 w-full">
                                <svg width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none">
                                    <polyline id="utility-chart-line" fill="none" stroke="#f87171" stroke-width="2" points="" />
                                    <polyline id="solar-chart-line" fill="none" stroke="#FFCA28" stroke-width="3" points="" />
                                    <text x="0" y="100" dy="5" fill="#9ca3af" font-size="4">0</text>
                                    <text x="50" y="100" dy="5" text-anchor="middle" fill="#9ca3af" font-size="4">12.5yrs</text>
                                    <text x="100" y="100" dy="5" text-anchor="end" fill="#9ca3af" font-size="4">25yrs</text>
                                </svg>
                            </div>
                            <div class="flex justify-center space-x-6 mt-4 text-sm">
                                <div class="flex items-center"><span class="w-3 h-3 bg-red-400 rounded-full mr-2"></span><span data-content-key="calculator.chartLabelUtility" class="text-gray-400"></span></div>
                                <div class="flex items-center"><span class="w-3 h-3 bg-solar-yellow rounded-full mr-2"></span><span data-content-key="calculator.chartLabelSolar" class="text-gray-300 font-bold"></span></div>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="text-center mt-12">
                     <button onclick="openModal()" data-content-key="calculator.ctaButton" class="inline-block bg-solar-yellow text-solar-blue px-10 py-4 rounded-full text-lg font-bold uppercase tracking-wider shadow-lg hover:bg-yellow-300 transition-all transform hover:scale-105"></button>
                    <p data-content-key="calculator.ctaSubtitle" class="text-sm text-gray-400 mt-3"></p>
                    <p data-content-key="calculator.disclaimer" class="text-xs text-gray-500 mt-4 max-w-md mx-auto"></p>
                </div>
            </div>
        </section>
        
        <section id="faq" class="py-20 bg-gray-900">
            <div class="container mx-auto px-6 max-w-4xl">
                 <div class="text-center mb-12">
                    <h2 data-content-key="faq.title" class="text-4xl font-extrabold text-white"></h2>
                    <p data-content-key="faq.subtitle" class="text-lg text-gray-400 mt-2"></p>
                </div>
                <div id="faq-container" class="space-y-4">
                    <!-- FAQ items will be injected here by JavaScript -->
                </div>
            </div>
        </section>
    </main>
    
    <footer class="bg-gray-900 border-t border-gray-800">
        <div class="container mx-auto px-6 py-8 text-center text-gray-500">
            <p>&copy; <span id="copyright-year"></span> <span data-content-key="footer.copyrightName"></span>. All Rights Reserved.</p>
            <p data-content-key="footer.tagline" class="text-sm mt-2"></p>
        </div>
    </footer>

    <!-- Quote Form Modal -->
    <div id="quote-modal" class="fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 hidden" role="dialog" aria-modal="true">
        <div id="modal-content" class="relative bg-gray-800 rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
             <button onclick="closeModal()" class="absolute top-3 right-3 text-gray-400 hover:text-white transition-colors z-10" aria-label="Close">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
            <div id="form-container" class="p-8">
                <div id="form-view">
                    <div class="text-center mb-8">
                        <h2 data-content-key="form.title" class="text-3xl font-extrabold text-white"></h2>
                        <p data-content-key="form.subtitle" class="text-md text-gray-400 mt-2"></p>
                    </div>
                    <form id="contact-form" noValidate>
                        <div class="space-y-5">
                            <div><label for="name" class="block text-sm font-medium text-gray-400 mb-2">Full Name <span class="text-red-500">*</span></label><input id="name" name="name" type="text" placeholder="John Doe" required class="w-full bg-gray-700 text-white p-4 rounded-md border border-gray-600 focus:outline-none focus:ring-2 focus:ring-solar-yellow"><p class="form-error text-red-500 text-xs mt-1 hidden"></p></div>
                            <div><label for="email" class="block text-sm font-medium text-gray-400 mb-2">Email Address <span class="text-red-500">*</span></label><input id="email" name="email" type="email" placeholder="you@example.com" required class="w-full bg-gray-700 text-white p-4 rounded-md border border-gray-600 focus:outline-none focus:ring-2 focus:ring-solar-yellow"><p class="form-error text-red-500 text-xs mt-1 hidden"></p></div>
                            <div><label for="phone" class="block text-sm font-medium text-gray-400 mb-2">Phone Number <span class="text-red-500">*</span></label><input id="phone" name="phone" type="tel" placeholder="(555) 123-4567" required class="w-full bg-gray-700 text-white p-4 rounded-md border border-gray-600 focus:outline-none focus:ring-2 focus:ring-solar-yellow"><p class="form-error text-red-500 text-xs mt-1 hidden"></p></div>
                            <div><label for="averageBill" class="block text-sm font-medium text-gray-400 mb-2">Average Monthly Electric Bill ($)</label><input id="averageBill" type="number" name="averageBill" placeholder="e.g. 150" required class="w-full bg-gray-700 text-white p-4 rounded-md border border-gray-600 focus:outline-none focus:ring-2 focus:ring-solar-yellow"></div>
                            <div class="text-center pt-2"><button type="submit" id="form-submit-button" data-content-key="form.submitButton" class="w-full bg-solar-yellow text-solar-blue px-10 py-4 rounded-full text-lg font-bold uppercase tracking-wider shadow-lg hover:bg-yellow-300 transition-all transform hover:scale-105 disabled:bg-gray-500 disabled:cursor-not-allowed"></button><p id="form-status-error" class="text-center text-red-500 mt-4 hidden">Submission failed. Please try again.</p></div>
                        </div>
                    </form>
                    <p data-content-key="form.privacyNote" class="text-xs text-gray-500 text-center mt-6"></p>
                </div>
                <div id="success-view" class="text-center py-10 hidden">
                    <h3 data-content-key="form.successTitle" class="text-2xl font-bold text-solar-yellow mb-4"></h3>
                    <p data-content-key="form.successMessage" class="text-gray-300 mb-6"></p>
                    <button onclick="closeModal()" data-content-key="form.successCloseButton" class="bg-solar-yellow text-solar-blue px-6 py-2 rounded-full font-bold hover:bg-yellow-300 transition-all"></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tax Credit Info Modal -->
    <div id="tax-credit-modal" class="fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 hidden" role="dialog" aria-modal="true">
        <div id="tax-credit-modal-content" class="relative bg-gray-800 rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto">
             <button onclick="closeTaxCreditModal()" class="absolute top-3 right-3 text-gray-400 hover:text-white transition-colors z-10" aria-label="Close">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
            <div id="tax-credit-modal-container" class="p-8 md:p-10">
                <!-- Content is populated by JavaScript -->
            </div>
        </div>
    </div>


    <!-- ====================================================================================== -->
    <!-- === JAVASCRIPT LOGIC ================================================================= -->
    <!-- ====================================================================================== -->
    <script>
    // ======================================================================================
    // === CONFIGURATION ====================================================================
    // ======================================================================================
    //
    // EDIT EVERYTHING HERE!
    // This is the single source of truth for all text and images on the page.
    // Simply change the text or image URLs below to update the website.
    //
    // ======================================================================================
    const SITE_CONFIG = {
        // --- Company Details ---
        company: {
            name: "Solar Delaware",
        },
        // --- Formspree Endpoint ---
        // Go to formspree.io, create a new form, and paste the endpoint URL here.
        formspreeEndpoint: "https://formspree.io/f/mkgzzkgg",

        // --- Navigation ---
        navigation: {
            links: [
                { text: "Benefits", href: "#benefits" },
                { text: "Tax Credit", href: "#incentive" },
                { text: "Process", href: "#how-it-works" },
                { text: "Savings", href: "#calculator" },
                { text: "FAQ", href: "#faq" },
            ],
            ctaButton: "Free Estimate",
        },
        
        // --- Hero Section (Top of page) ---
        hero: {
            // This H1 headline is hard-coded in the HTML for best SEO.
            // You can edit it directly in the <H1> tag if needed.
            subheadline: "Serving New Castle, Kent, and Sussex counties. Swap your electric bill for a fixed, lower solar payment. Qualify for the Delaware Solar Credit and start saving today.",
            ctaButton: "See If You Qualify Now",
            // Paste the URL for your desired background image here.
            backgroundImageUrl: "https://images.pexels.com/photos/356036/pexels-photo-356036.jpeg?cs=srgb&dl=pexels-pixabay-356036.jpg&fm=jpg",
        },

        // --- NEW: Subscription CTA (below hero) ---
        // To remove this section, just change `enabled: true` to `enabled: false`
        subscriptionCta: {
            enabled: true,
            title: "Stay Ahead of Solar Savings in Delaware",
            subtitle: "Get free notices about new solar incentives and tax credits. No spam, ever.",
            placeholder: "Enter your email address",
            buttonText: "Keep Me Informed"
        },

        // --- Service Area ---
        serviceArea: {
            text: "Proudly Serving All of Delaware: New Castle County • Kent County • Sussex County",
        },
        
        // --- Why Delaware Section ---
        whyDelaware: {
            title: "Why Delaware is a Top State for Solar",
            subtitle: "Take advantage of unique state programs that make your investment go even further.",
            items: [
                {
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-solar-yellow"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 6v.75m0 3v.75m0 3v.75m0 3V18m-9-5.25h5.25M7.5 15h3M3.375 5.25c-.621 0-1.125.504-1.125 1.125v3.026a2.999 2.999 0 0 1 0 5.198v3.026c0 .621.504 1.125 1.125 1.125h17.25c.621 0 1.125-.504 1.125-1.125v-3.026a2.999 2.999 0 0 1 0-5.198V6.375c0-.621-.504-1.125-1.125-1.125H3.375Z" /></svg>`,
                    title: "Earn Cash with SRECs",
                    description: "Delaware's Solar Renewable Energy Credit (SREC) program pays you cash for the clean energy your system generates. It's a second way you profit from solar, on top of your bill savings."
                },
                {
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-solar-yellow"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z" /></svg>`,
                    title: "Favorable Net Metering",
                    description: "Delaware has excellent net metering laws. Your utility company must credit you at the full retail rate for any excess power you send back to the grid, maximizing your savings."
                },
                {
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-solar-yellow"><path stroke-linecap="round" stroke-linejoin="round" d="M12 21v-8.25M15.75 21v-8.25M8.25 21v-8.25M3 9l9-6 9 6m-1.5 12V10.332A48.36 48.36 0 0 0 12 9.75c-2.551 0-5.056.2-7.5.582V21M3 21h18M12 6.75h.008v.008H12V6.75Z" /></svg>`,
                    title: "Property Tax Exempt",
                    description: "While solar panels increase your home's value, Delaware law exempts that added value from your property taxes. You get the benefit without the extra tax burden."
                },
            ]
        },

        // --- Benefits Section ---
        benefits: {
            title: "The Advantages of Owning Your Power",
            subtitle: "The benefits are brighter than you think, especially in the First State.",
            items: [
                { 
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-solar-yellow"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm1.5 0a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Z" /></svg>`,
                    title: "Swap Your Electric Bill",
                    description: "Replace your volatile utility payment with a <strong><u>low, fixed monthly solar payment</u></strong>. Once it's paid off, you generate your own FREE power for life.",
                },
                {
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-solar-yellow"><path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955a1.125 1.125 0 0 1 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></svg>`,
                    title: "Increase Home Value",
                    description: "Homes with solar panels sell faster and for an average of <strong>4.1% more</strong>, according to Zillow. It's an investment that pays you back in more ways than one.",
                },
                {
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-solar-yellow"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286Zm0 13.036h.008v.008h-.008v-.008Z" /></svg>`,
                    title: "Energy Independence",
                    description: "Protect yourself from <strong><u>rising utility rates</u></strong> and power grid instability. With solar, you control your own energy production.",
                },
                {
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-solar-yellow"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 0 1 5.814-5.519l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941" /></svg>`,
                    title: "Hedge Against Inflation",
                    description: "Electricity prices rise consistently. A fixed solar payment is one of the smartest ways to budget for the future and <strong>save long-term</strong>.",
                },
            ]
        },

        // --- Incentive Section ---
        incentive: {
            title: `The <span class="text-solar-yellow text-5xl md:text-6xl font-black">$6,000 Delaware</span> Solar Credit`,
            subtitle: "This incredible state incentive makes going solar cheaper than ever, but it expires soon!",
            countdownTitle: "OFFER ENDS WITH THE YEAR",
            ctaButton: "Learn More & Claim",
        },

        // --- How It Works Section ---
        howItWorks: {
            title: "A Simple, Seamless Process",
            subtitle: "We handle everything for your Delaware solar installation from start to finish.",
            steps: [
                { title: "Quote & Design", description: "We start with a free, no-obligation consultation to assess your energy needs and provide a custom solar system design and quote." },
                { title: "Installation", description: "Our certified Delaware installers handle all permits and have your system up and running, often in just one day." },
                { title: "Power On & Save", description: "After a final inspection, we flip the switch! You start generating clean energy and watch your savings grow." }
            ]
        },

        // --- Technology Section ---
        technology: {
            title: "Our Premium Solar Technology",
            subtitle: "We only use best-in-class components for maximum performance and longevity.",
            items: [
                {
                    imageUrl: "https://5.imimg.com/data5/ANDROID/Default/2024/7/436852109/UF/PK/XR/89279058/product-jpeg-500x500.jpg",
                    altText: "High-efficiency monocrystalline solar panel for Delaware homes",
                    title: "Tier-1 Solar Panels",
                    description: "We install high-performance Tier-1 monocrystalline panels, known for superior efficiency and a sleek black appearance, generating more power in less space.",
                },
                {
                    imageUrl: "https://www.nasdaq.com/sites/acquia.prod/files/gobankingrates/solar-panel-tech-stock-iStock-971089548.jpg",
                    altText: "A solar installation expert working on a roof",
                    title: "Expert Installation",
                    description: "Our certified and insured teams are masters of their craft, ensuring a flawless and efficient installation process from start to finish.",
                },
                {
                    imageUrl: "https://www.positiveenergysolar.com/wp-content/uploads/2025/03/Certified_Provider_Badge.2407181547522-1024x791.png",
                    altText: "A modern home with a clean solar panel installation on the roof",
                    title: "Ironclad 25-Year Warranty",
                    description: "Your investment is protected by a comprehensive 25-year panel warranty, plus a <strong class='text-solar-yellow'><u>lifetime workmanship guarantee</u></strong>. Total peace of mind.",
                }
            ]
        },

        // --- Savings Calculator Section ---
        calculator: {
            title: "Instantly Calculate Your Solar Savings",
            subtitle: "Use the slider to adjust your average monthly electric bill and see your potential savings.",
            sliderLabel: "Your Average Monthly Electric Bill",
            metrics: [
                { label: "25-Year Savings", id: "lifetime-savings", prefix: "$", suffix: "" },
                { label: "Pays for Itself In", id: "payback-period", prefix: "~", suffix: " Years" },
                { label: "Home Value Increase", id: "home-value-increase", prefix: "$", suffix: "" },
            ],
            chartTitle: "Cost Over 25 Years",
            chartLabelUtility: "Projected Utility Cost",
            chartLabelSolar: "Fixed Solar Cost",
            ctaButton: "Get My Free Consultation",
            ctaSubtitle: "Free, No-Pressure Consultation",
            disclaimer: "This is an estimate for informational purposes only. A free, detailed quote will provide exact figures for your property.",
            // --- Parameters for the savings calculation. Edit these to fine-tune the estimates. ---
            calculationParameters: {
                utilityRateIncrease: 0.04,      // Annual increase in utility electricity cost (e.g., 0.04 = 4%)
                solarSystemCostPerWatt: 3.0,    // Average cost per watt for a solar system installation
                avgKwhCost: 0.14,               // Average cost per kilowatt-hour from the utility in your area
                solarProductionFactor: 1200,    // Annual kWh produced per 1 kW of solar panels installed (adjust for local climate)
                loanTermYears: 20,              // The term length of the solar loan in years
                loanInterestRate: 0.05,         // The interest rate for the solar loan (e.g., 0.05 = 5%)
                federalTaxCreditRate: 0.30,     // Federal tax credit as a percentage (e.g., 0.30 = 30%)
                deStateCredit: 6000,            // The flat Delaware state tax credit amount in dollars
                homeValueIncreasePerWatt: 4.0,  // Estimated increase in home value per watt of solar installed
            }
        },
        
        // --- FAQ Section ---
        faq: {
            title: "Frequently Asked Questions",
            subtitle: "Have questions about going solar in Delaware? We have answers.",
            items: [
                {
                    question: "How much do solar panels actually cost in Delaware?",
                    answer: "The final cost varies by home, but Delaware's incentives drastically lower the price. After the <strong>30% Federal Tax Credit</strong> and the <strong>$6,000 State Credit</strong>, a typical system becomes highly affordable. Many homeowners can get started for $0 down and replace their utility bill with a lower, fixed solar payment."
                },
                {
                    question: "How long do solar panels last?",
                    answer: "Modern Tier-1 solar panels are incredibly durable. We provide an industry-leading <strong>25-year manufacturer's warranty</strong> that guarantees their production. You can expect your panels to continue generating clean energy for 30 years or more."
                },
                {
                    question: "What happens on cloudy days or at night?",
                    answer: "Your system produces excess energy on sunny days, which is sent back to the grid for credits (this is called net metering). At night or on cloudy days, you automatically draw power from the grid using those credits. This ensures you always have power when you need it."
                },
                {
                    question: "Does solar work during a power outage?",
                    answer: "Standard grid-tied solar systems are required by law to shut down during a power outage to protect utility workers. However, you can add a <strong>solar battery storage</strong> system to your installation. This allows you to store excess solar energy and use it to power your home independently during an outage."
                },
            ]
        },

        // --- Footer ---
        footer: {
            copyrightName: "Solar Delaware",
            tagline: "Your local experts in Delaware renewable energy solutions.",
        },
        
        // --- Contact Form Modal ---
        form: {
            title: "Get Your Free, No-Obligation Quote",
            subtitle: "Fill out the form below to see how much you can save.",
            submitButton: "Calculate My Savings",
            privacyNote: "By clicking \"Calculate My Savings\", you agree to be contacted by our solar experts. We respect your privacy.",
            successTitle: "Thank You!",
            successMessage: "Your request has been sent. A solar expert will be in touch with you shortly.",
            successCloseButton: "Close",
        },

        // --- Tax Credit Info Modal ---
        taxCreditModal: {
            title: "Unlocking Delaware's Solar Incentives",
            subtitle: "Here's a breakdown of how you save big with state and federal programs.",
            sections: [
                {
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-solar-yellow"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182.553-.44 1.278-.659 2.003-.659 1.5 0 2.85.996 3.449 2.167m-5.449-2.167.956-1.639M12 18.75h.008v.008H12v-.008Z" /></svg>`,
                    title: "30% Federal Investment Tax Credit (ITC)",
                    description: "The federal government offers a tax credit for <strong><u>30% of the total cost</u></strong> of your solar panel system. This is a dollar-for-dollar reduction in your federal income taxes.",
                    details: [
                        "No cap on the credit amount.",
                        "Applies to both equipment and installation costs.",
                        "Can be carried forward to future tax years if needed."
                    ]
                },
                {
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-solar-yellow"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-18-18h16.5M5.25 6h13.5m-13.5 3h13.5m-13.5 3h13.5m-13.5 3h13.5M3 3v18h18V3H3Z" /></svg>`,
                    title: "$6,000 Delaware State Tax Credit",
                    description: "Delaware provides an incredible state-level credit, making it one of the best states for solar. This directly reduces your state tax liability.",
                    details: [
                        "Up to <strong>$6,000 credit</strong> for residential systems.",
                        "Managed by the DNREC Green Energy Program.",
                        "This program has an annual cap and funds are limited, so <u>acting fast is crucial</u>."
                    ]
                }
            ],
            ctaButton: "Start My Free Consultation",
            sourceInfo: "Information based on data from DNREC and the Solar Energy Industries Association (SEIA). Consult a tax professional for personalized advice."
        }
    };

    // ======================================================================================
    // === APPLICATION LOGIC (No editing needed below this line) ============================
    // ======================================================================================
    document.addEventListener('DOMContentLoaded', () => {
        
        // --- POPULATE CONTENT FROM CONFIG ---
        function populateContent() {
            // Company Name
            document.querySelector('[data-content-key="company.name"]').textContent = SITE_CONFIG.company.name;
            document.querySelector('[data-content-key="footer.copyrightName"]').textContent = SITE_CONFIG.company.name;
            
            // Navigation
            const navContainer = document.querySelector('[data-content-key="navigation.links"]');
            navContainer.innerHTML = SITE_CONFIG.navigation.links.map(link => 
                `<a href="${link.href}" class="text-gray-300 hover:text-solar-yellow transition-colors duration-300 font-medium">${link.text}</a>`
            ).join('');
            document.querySelector('[data-content-key="navigation.ctaButton"]').textContent = SITE_CONFIG.navigation.ctaButton;
            
            // Hero
            document.getElementById('hero-background').style.backgroundImage = `url('${SITE_CONFIG.hero.backgroundImageUrl}')`;
            document.querySelector('[data-content-key="hero.subheadline"]').innerHTML = SITE_CONFIG.hero.subheadline;
            document.querySelector('[data-content-key="hero.ctaButton"]').textContent = SITE_CONFIG.hero.ctaButton;

            // Subscription CTA
            if (SITE_CONFIG.subscriptionCta.enabled) {
                const subSection = document.getElementById('subscription-cta');
                subSection.classList.remove('hidden');
                document.querySelector('[data-content-key="subscriptionCta.title"]').textContent = SITE_CONFIG.subscriptionCta.title;
                document.querySelector('[data-content-key="subscriptionCta.subtitle"]').textContent = SITE_CONFIG.subscriptionCta.subtitle;
                document.querySelector('[data-content-key="subscriptionCta.buttonText"]').textContent = SITE_CONFIG.subscriptionCta.buttonText;
                document.getElementById('sub-email').placeholder = SITE_CONFIG.subscriptionCta.placeholder;
            }

            // Service Area
            document.querySelector('[data-content-key="serviceArea.text"]').innerHTML = SITE_CONFIG.serviceArea.text;

            // Why Delaware
            document.querySelector('[data-content-key="whyDelaware.title"]').textContent = SITE_CONFIG.whyDelaware.title;
            document.querySelector('[data-content-key="whyDelaware.subtitle"]').textContent = SITE_CONFIG.whyDelaware.subtitle;
            const whyDelawareContainer = document.querySelector('[data-content-key="whyDelaware.items"]');
            whyDelawareContainer.innerHTML = SITE_CONFIG.whyDelaware.items.map(item => `
                <div class="bg-gray-800 p-8 rounded-lg shadow-xl text-center transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="mb-4 inline-block p-4 bg-solar-blue rounded-full">${item.icon}</div>
                    <h3 class="text-2xl font-bold text-white mb-3">${item.title}</h3>
                    <p class="text-gray-400">${item.description}</p>
                </div>
            `).join('');
            
            // Benefits
            document.querySelector('[data-content-key="benefits.title"]').textContent = SITE_CONFIG.benefits.title;
            document.querySelector('[data-content-key="benefits.subtitle"]').textContent = SITE_CONFIG.benefits.subtitle;
            const benefitsContainer = document.querySelector('[data-content-key="benefits.items"]');
            benefitsContainer.innerHTML = SITE_CONFIG.benefits.items.map(item => `
                <div class="bg-gray-800 p-8 rounded-lg shadow-xl text-center transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="mb-4 inline-block p-4 bg-solar-blue rounded-full">${item.icon}</div>
                    <h3 class="text-2xl font-bold text-white mb-3">${item.title}</h3>
                    <p class="text-gray-400">${item.description}</p>
                </div>
            `).join('');

            // Incentive
            document.querySelector('[data-content-key="incentive.title"]').innerHTML = SITE_CONFIG.incentive.title;
            document.querySelector('[data-content-key="incentive.subtitle"]').textContent = SITE_CONFIG.incentive.subtitle;
            document.querySelector('[data-content-key="incentive.countdownTitle"]').textContent = SITE_CONFIG.incentive.countdownTitle;
            document.querySelector('[data-content-key="incentive.ctaButton"]').textContent = SITE_CONFIG.incentive.ctaButton;

            // How It Works
            document.querySelector('[data-content-key="howItWorks.title"]').textContent = SITE_CONFIG.howItWorks.title;
            document.querySelector('[data-content-key="howItWorks.subtitle"]').textContent = SITE_CONFIG.howItWorks.subtitle;
            const stepsContainer = document.querySelector('[data-content-key="howItWorks.steps"]');
            stepsContainer.classList.add('flex', 'flex-col', 'md:flex-row', 'justify-between', 'items-stretch', 'text-center');
            stepsContainer.innerHTML = SITE_CONFIG.howItWorks.steps.map((step, index) => {
                const stepHtml = `
                    <div class="flex flex-col items-center flex-1 px-4 my-6 md:my-0">
                        <div class="flex items-center justify-center w-20 h-20 rounded-full bg-solar-blue text-solar-yellow font-bold text-3xl mb-4 z-10 flex-shrink-0">${index + 1}</div>
                        <h3 class="text-2xl font-bold text-white mb-2">${step.title}</h3>
                        <p class="text-gray-400">${step.description}</p>
                    </div>
                `;
                const connectorHtml = index < SITE_CONFIG.howItWorks.steps.length - 1 
                    ? `<div class="flex-grow items-center justify-center hidden md:flex"><div class="w-full h-1 border-t-2 border-dashed border-gray-600 mt-[-6rem]"></div></div>`
                    : '';
                return stepHtml + connectorHtml;
            }).join('');
            
            // Technology
            document.querySelector('[data-content-key="technology.title"]').textContent = SITE_CONFIG.technology.title;
            document.querySelector('[data-content-key="technology.subtitle"]').textContent = SITE_CONFIG.technology.subtitle;
            const techContainer = document.querySelector('[data-content-key="technology.items"]');
            techContainer.innerHTML = SITE_CONFIG.technology.items.map(item => `
                <div class="bg-gray-800 p-6 rounded-lg shadow-lg flex flex-col">
                    <img src="${item.imageUrl}" alt="${item.altText}" class="rounded-md mb-4 w-full h-48 object-cover">
                    <h3 class="text-xl font-bold text-white">${item.title}</h3>
                    <p class="text-gray-400 mt-2 flex-grow">${item.description}</p>
                </div>
            `).join('');

            // Calculator
            document.querySelector('[data-content-key="calculator.title"]').textContent = SITE_CONFIG.calculator.title;
            document.querySelector('[data-content-key="calculator.subtitle"]').textContent = SITE_CONFIG.calculator.subtitle;
            document.querySelector('[data-content-key="calculator.sliderLabel"]').textContent = SITE_CONFIG.calculator.sliderLabel;
            document.querySelector('[data-content-key="calculator.ctaButton"]').textContent = SITE_CONFIG.calculator.ctaButton;
            document.querySelector('[data-content-key="calculator.ctaSubtitle"]').textContent = SITE_CONFIG.calculator.ctaSubtitle;
            document.querySelector('[data-content-key="calculator.disclaimer"]').textContent = SITE_CONFIG.calculator.disclaimer;
            document.querySelector('[data-content-key="calculator.chartTitle"]').textContent = SITE_CONFIG.calculator.chartTitle;
            document.querySelector('[data-content-key="calculator.chartLabelUtility"]').textContent = SITE_CONFIG.calculator.chartLabelUtility;
            document.querySelector('[data-content-key="calculator.chartLabelSolar"]').textContent = SITE_CONFIG.calculator.chartLabelSolar;
            const metricsContainer = document.querySelector('[data-content-key="calculator.metrics"]');
            metricsContainer.innerHTML = SITE_CONFIG.calculator.metrics.map(metric => `
                <div class="bg-gray-800/60 p-4 rounded-lg">
                    <p class="text-sm text-gray-400">${metric.label}</p>
                    <p class="text-3xl font-bold text-white">${metric.prefix}<span id="${metric.id}">0</span>${metric.suffix}</p>
                </div>
            `).join('');
            metricsContainer.firstElementChild.querySelector('.text-3xl').classList.replace('text-white', 'text-solar-yellow');

            // FAQ
            document.querySelector('[data-content-key="faq.title"]').textContent = SITE_CONFIG.faq.title;
            document.querySelector('[data-content-key="faq.subtitle"]').textContent = SITE_CONFIG.faq.subtitle;
            const faqContainer = document.getElementById('faq-container');
            faqContainer.innerHTML = SITE_CONFIG.faq.items.map((item, index) => `
                <div class="bg-gray-800 rounded-lg">
                    <input type="checkbox" id="faq-${index}" class="hidden faq-toggle">
                    <label for="faq-${index}" class="faq-label flex justify-between items-center p-6 cursor-pointer">
                        <h3 class="text-lg font-bold text-white">${item.question}</h3>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-solar-yellow faq-arrow" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                    </label>
                    <div class="faq-content">
                        <div class="p-6 pt-0 text-gray-400">
                            <p>${item.answer}</p>
                        </div>
                    </div>
                </div>
            `).join('');

            // Footer
            document.querySelector('[data-content-key="footer.tagline"]').textContent = SITE_CONFIG.footer.tagline;

            // Form
            document.querySelector('[data-content-key="form.title"]').textContent = SITE_CONFIG.form.title;
            document.querySelector('[data-content-key="form.subtitle"]').textContent = SITE_CONFIG.form.subtitle;
            document.querySelector('[data-content-key="form.submitButton"]').textContent = SITE_CONFIG.form.submitButton;
            document.querySelector('[data-content-key="form.privacyNote"]').textContent = SITE_CONFIG.form.privacyNote;
            document.querySelector('[data-content-key="form.successTitle"]').textContent = SITE_CONFIG.form.successTitle;
            document.querySelector('[data-content-key="form.successMessage"]').textContent = SITE_CONFIG.form.successMessage;
            document.querySelector('[data-content-key="form.successCloseButton"]').textContent = SITE_CONFIG.form.successCloseButton;

            // Tax Credit Modal
            const taxModalContainer = document.getElementById('tax-credit-modal-container');
            const taxModalConfig = SITE_CONFIG.taxCreditModal;
            let sectionsHtml = taxModalConfig.sections.map(section => `
                <div class="flex items-start space-x-4 mb-6">
                    <div class="flex-shrink-0 w-12 h-12 flex items-center justify-center bg-solar-blue rounded-full">${section.icon}</div>
                    <div>
                        <h4 class="text-xl font-bold text-white mb-1">${section.title}</h4>
                        <p class="text-gray-400">${section.description}</p>
                        <ul class="mt-2 list-disc list-inside text-gray-400 space-y-1">
                            ${section.details.map(detail => `<li>${detail}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            `).join('<hr class="border-gray-700 my-6">');
            taxModalContainer.innerHTML = `
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-extrabold text-white">${taxModalConfig.title}</h2>
                    <p class="text-md text-gray-400 mt-2">${taxModalConfig.subtitle}</p>
                </div>
                ${sectionsHtml}
                <div class="text-center mt-8">
                    <button onclick="switchToQuoteModal()" class="w-full md:w-auto bg-solar-yellow text-solar-blue px-10 py-3 rounded-full text-lg font-bold uppercase tracking-wider shadow-lg hover:bg-yellow-300 transition-all transform hover:scale-105">${taxModalConfig.ctaButton}</button>
                </div>
                <p class="text-xs text-gray-600 text-center mt-6">${taxModalConfig.sourceInfo}</p>
            `;
        }
        populateContent();

        // --- SELECTORS ---
        const header = document.getElementById('page-header');
        const quoteModal = document.getElementById('quote-modal');
        const quoteModalContent = document.getElementById('modal-content');
        const taxCreditModal = document.getElementById('tax-credit-modal');
        const taxCreditModalContent = document.getElementById('tax-credit-modal-content');
        const contactForm = document.getElementById('contact-form');
        const formSubmitButton = document.getElementById('form-submit-button');
        const subscriptionForm = document.getElementById('subscription-form');

        // --- HEADER SCROLL EFFECT ---
        window.addEventListener('scroll', () => {
            header.classList.toggle('bg-brand-dark/90', window.scrollY > 10);
            header.classList.toggle('backdrop-blur-sm', window.scrollY > 10);
            header.classList.toggle('shadow-lg', window.scrollY > 10);
        });

        // --- SMOOTH SCROLL NAVIGATION ---
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // --- MODAL LOGIC ---
        function updateBodyScroll() {
            if (quoteModal.classList.contains('hidden') && taxCreditModal.classList.contains('hidden')) {
                document.body.style.overflow = 'unset';
            } else {
                document.body.style.overflow = 'hidden';
            }
        }
        window.openModal = () => {
            quoteModal.classList.remove('hidden');
            quoteModal.classList.add('animate-fade-in');
            quoteModalContent.classList.add('animate-fade-in-up');
            updateBodyScroll();
        };
        window.closeModal = () => {
            quoteModal.classList.add('hidden');
            document.getElementById('form-view').classList.remove('hidden');
            document.getElementById('success-view').classList.add('hidden');
            contactForm.reset();
            updateBodyScroll();
        };
        window.openTaxCreditModal = () => {
            taxCreditModal.classList.remove('hidden');
            taxCreditModal.classList.add('animate-fade-in');
            taxCreditModalContent.classList.add('animate-fade-in-up');
            updateBodyScroll();
        };
        window.closeTaxCreditModal = () => {
            taxCreditModal.classList.add('hidden');
            updateBodyScroll();
        };
        window.switchToQuoteModal = () => {
            closeTaxCreditModal();
            setTimeout(openModal, 200);
        };
        quoteModal.addEventListener('click', closeModal);
        quoteModalContent.addEventListener('click', (e) => e.stopPropagation());
        taxCreditModal.addEventListener('click', closeTaxCreditModal);
        taxCreditModalContent.addEventListener('click', (e) => e.stopPropagation());
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModal();
                closeTaxCreditModal();
            }
        });

        // --- FOOTER COPYRIGHT YEAR ---
        document.getElementById('copyright-year').textContent = new Date().getFullYear();

        // --- COUNTDOWN TIMER LOGIC ---
        const countdownElements = {
            days: document.getElementById('countdown-days'),
            hours: document.getElementById('countdown-hours'),
            minutes: document.getElementById('countdown-minutes'),
            seconds: document.getElementById('countdown-seconds'),
        };
        const endOfYear = new Date(new Date().getFullYear() + 1, 0, 1);
        function updateCountdown() {
            const diff = +endOfYear - +new Date();
            if (diff <= 0) { Object.values(countdownElements).forEach(el => el.textContent = '00'); return; }
            countdownElements.days.textContent = String(Math.floor(diff / 864e5)).padStart(2, '0');
            countdownElements.hours.textContent = String(Math.floor(diff / 36e5) % 24).padStart(2, '0');
            countdownElements.minutes.textContent = String(Math.floor(diff / 6e4) % 60).padStart(2, '0');
            countdownElements.seconds.textContent = String(Math.floor(diff / 1e3) % 60).padStart(2, '0');
        }
        setInterval(updateCountdown, 1000);
        updateCountdown();

        // --- SAVINGS CALCULATOR LOGIC ---
        const calculatorSelectors = {
            slider: document.getElementById('monthlyBillSlider'),
            billDisplay: document.getElementById('bill-amount-display'),
            lifetimeSavings: document.getElementById('lifetime-savings'),
            paybackPeriod: document.getElementById('payback-period'),
            homeValueIncrease: document.getElementById('home-value-increase'),
            utilityChartLine: document.getElementById('utility-chart-line'),
            solarChartLine: document.getElementById('solar-chart-line'),
            talkingPoints: document.getElementById('calculator-talking-points'),
            formBillInput: document.getElementById('averageBill')
        };
        const solarConfig = SITE_CONFIG.calculator.calculationParameters;
        
        function calculateSavings(monthlyBill, cfg) {
            const yearlyBill = monthlyBill * 12;
            const yearlyKwhUsage = yearlyBill / cfg.avgKwhCost;
            const systemSizeKw = yearlyKwhUsage / cfg.solarProductionFactor;
            const systemSizeWatts = systemSizeKw * 1000;
            const systemCost = systemSizeWatts * cfg.solarSystemCostPerWatt;
            const federalCredit = systemCost * cfg.federalTaxCreditRate;
            const netCost = systemCost - federalCredit - cfg.deStateCredit;
            const homeValueIncrease = systemSizeWatts * cfg.homeValueIncreasePerWatt;
            const r = cfg.loanInterestRate / 12;
            const n = cfg.loanTermYears * 12;
            const monthlySolarPayment = netCost > 0 ? (netCost * r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1) : 0;
            const totalSolarCost = monthlySolarPayment * n;

            let cumulativeUtilityCost = 0, paybackPeriod = 0;
            const utilityCostChart = [], solarCostChart = [];
            let currentYearlyBill = yearlyBill;
            
            let cumulativeSavings = -netCost; 

            for (let year = 1; year <= 25; year++) {
                cumulativeUtilityCost += currentYearlyBill;
                const cumulativeSolarCost = year <= cfg.loanTermYears ? monthlySolarPayment * 12 * year : totalSolarCost;

                const yearlySolarPayment = year <= cfg.loanTermYears ? monthlySolarPayment * 12 : 0;
                const yearlySavings = currentYearlyBill - yearlySolarPayment;
                cumulativeSavings += yearlySavings;
                
                if (!paybackPeriod && cumulativeSavings >= 0) {
                    const prevCumulativeSavings = cumulativeSavings - yearlySavings;
                    const partOfYear = Math.abs(prevCumulativeSavings) / yearlySavings;
                    paybackPeriod = (year - 1 + partOfYear).toFixed(1);
                }

                utilityCostChart.push(cumulativeUtilityCost);
                solarCostChart.push(cumulativeSolarCost);
                currentYearlyBill *= (1 + cfg.utilityRateIncrease);
            }
            const lifetimeSavings = cumulativeUtilityCost - totalSolarCost;
            const maxVal = Math.max(...utilityCostChart, ...solarCostChart);
            const normalize = (val) => maxVal > 0 ? (val / maxVal) * 100 : 0;
            return { lifetimeSavings, paybackPeriod, homeValueIncrease, monthlySolarPayment, chartData: { utility: utilityCostChart.map(normalize), solar: solarCostChart.map(normalize) } };
        }

        function formatCurrency(value) { return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 }).format(value); }
        
        function updateCalculatorUI() {
            const monthlyBill = Number(calculatorSelectors.slider.value);
            const calculations = calculateSavings(monthlyBill, solarConfig);
            calculatorSelectors.billDisplay.textContent = `$${monthlyBill}`;
            calculatorSelectors.lifetimeSavings.textContent = calculations.lifetimeSavings > 0 ? new Intl.NumberFormat().format(Math.round(calculations.lifetimeSavings)) : '0';
            calculatorSelectors.paybackPeriod.textContent = calculations.paybackPeriod > 0 ? calculations.paybackPeriod : 'N/A';
            calculatorSelectors.homeValueIncrease.textContent = new Intl.NumberFormat().format(Math.round(calculations.homeValueIncrease));
            const toPoints = data => data.map((point, index) => `${(index / (data.length - 1)) * 100},${100 - point}`).join(' ');
            calculatorSelectors.utilityChartLine.setAttribute('points', toPoints(calculations.chartData.utility));
            calculatorSelectors.solarChartLine.setAttribute('points', toPoints(calculations.chartData.solar));
            calculatorSelectors.talkingPoints.innerHTML = `<div class="flex items-start"><span class="text-solar-yellow mr-3 mt-1 shrink-0">✓</span><p><strong class="font-bold text-white">Lower, Fixed Payments:</strong> Your new solar payment could be <strong class="text-solar-yellow">${formatCurrency(calculations.monthlySolarPayment)}/mo</strong>, protecting you from utility rate hikes.</p></div><div class="flex items-start"><span class="text-solar-yellow mr-3 mt-1 shrink-0">✓</span><p><strong class="font-bold text-white">Tax Credits Applied:</strong> Includes the 30% Federal Tax Credit and the $6,000 Delaware credit.</p></div>`;
            calculatorSelectors.formBillInput.value = monthlyBill;
        }
        calculatorSelectors.slider.addEventListener('input', updateCalculatorUI);
        updateCalculatorUI();

        // --- QUOTE FORM SUBMISSION LOGIC ---
        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            let isValid = true;
            ['name', 'email', 'phone'].forEach(id => {
                const input = document.getElementById(id);
                const errorP = input.nextElementSibling;
                if (!input.value.trim() || (id === 'email' && !/\S+@\S+\.\S+/.test(input.value))) {
                    errorP.textContent = !input.value.trim() ? `${input.labels[0].textContent.replace(' *','')} is required.` : 'Please enter a valid email address.';
                    errorP.classList.remove('hidden'); input.classList.add('border-red-500'); isValid = false;
                } else {
                    errorP.classList.add('hidden'); input.classList.remove('border-red-500');
                }
            });
            if (!isValid) return;
            formSubmitButton.disabled = true; formSubmitButton.textContent = 'Sending...';
            document.getElementById('form-status-error').classList.add('hidden');
            try {
                const response = await fetch(SITE_CONFIG.formspreeEndpoint, { method: 'POST', body: JSON.stringify(Object.fromEntries(new FormData(contactForm))), headers: { 'Accept': 'application/json', 'Content-Type': 'application/json' }});
                if (response.ok) {
                    document.getElementById('form-view').classList.add('hidden');
                    document.getElementById('success-view').classList.remove('hidden');
                } else throw new Error('Form submission failed');
            } catch (error) {
                console.error('Form submission error:', error);
                document.getElementById('form-status-error').classList.remove('hidden');
            } finally {
                formSubmitButton.disabled = false;
                formSubmitButton.textContent = SITE_CONFIG.form.submitButton;
            }
        });

        // --- SUBSCRIPTION FORM SUBMISSION LOGIC ---
        if (SITE_CONFIG.subscriptionCta.enabled && subscriptionForm) {
            subscriptionForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const emailInput = document.getElementById('sub-email');
                const errorP = document.getElementById('sub-form-error');
                const submitButton = document.getElementById('sub-submit-button');
                
                if (!emailInput.value.trim() || !/\S+@\S+\.\S+/.test(emailInput.value)) {
                    errorP.textContent = 'Please enter a valid email address.';
                    errorP.classList.remove('hidden');
                    emailInput.classList.add('border-red-500');
                    return;
                }
                
                errorP.classList.add('hidden');
                emailInput.classList.remove('border-red-500');
                submitButton.disabled = true;
                submitButton.textContent = 'Sending...';

                try {
                    const response = await fetch(SITE_CONFIG.formspreeEndpoint, {
                        method: 'POST',
                        body: JSON.stringify(Object.fromEntries(new FormData(subscriptionForm))),
                        headers: { 'Accept': 'application/json', 'Content-Type': 'application/json' }
                    });
                    if (response.ok) {
                        document.getElementById('subscription-form').classList.add('hidden');
                        document.getElementById('subscription-success').classList.remove('hidden');
                    } else {
                        throw new Error('Subscription submission failed');
                    }
                } catch (error) {
                    console.error('Subscription form error:', error);
                    errorP.textContent = 'Submission failed. Please try again.';
                    errorP.classList.remove('hidden');
                    submitButton.disabled = false;
                    submitButton.textContent = SITE_CONFIG.subscriptionCta.buttonText;
                }
            });
        }
    });
    </script>
</body>
</html>